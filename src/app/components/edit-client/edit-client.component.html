<ion-header>
  <ion-toolbar color="warning">
    <ion-title>Agregar nuevo cliente</ion-title>
    <!-- Botón para cerrar el modal -->
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form #form="ngForm" (ngSubmit)="onSubmit(form)">
  <ion-list>
    <!-- Identificación y nombres -->
    <ion-item class="ion-margin-vertical">
      <ion-input
      required
      [(ngModel)]="datacliente.nombre"
      type="text"
      name="nombre"
      name="nombre"
      label="Primer nombre"
      label-placement="floating"
      color="primary"
      maxlength="20"
      minlength="5"
      >
    </ion-input>
    </ion-item>

    <ion-item>
      <ion-input
        type="text"
        [(ngModel)]="datacliente.segundo_nombre"
        name="segundo_nombre"
        label="Segundo nombre"
        label-placement="floating"
        fill="inline"
        color="primary"
        maxlength="20"
        minlength="5"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-input
        required
        type="text"
        [(ngModel)]="datacliente.apellido"
        name="apellido"
        label="Primer apellido"
        label-placement="floating"
        fill="inline"
        color="primary"
        maxlength="20"
        minlength="5"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-input
        type="text"
        [(ngModel)]="datacliente.segundo_apellido"
        name="segundo_apellido"
        label="Segundo apellido"
        label-placement="floating"
        fill="inline"
        color="primary"
        maxlength="20"
        minlength="5"
      ></ion-input>
    </ion-item>

    <!-- Documento -->
    <ion-item>
      <ion-select
        (click)="listarDocumentos()"
        required
        interface="popover"
        label="Tipo de documento"
        name="id_tipo_documento"
        [(ngModel)]="datacliente.id_tipo_documento"
        placeholder="Seleccione"
      >
        @for(documento of documentos(); track documento.id; let i = $index){
        <ion-select-option [value]="documento.id">
          {{ documento.abreviatura }} - {{ documento.nombre_documento }}
        </ion-select-option>
        }
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-input
        type="text"
        name="documento"
        label="Documento"
        label-placement="floating"
        [(ngModel)]="datacliente.documento"
        required
        maxlength="20"
        minlength="5"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-input
        type="date"
        name="fecha_expedicion"
        label="Fecha de expedición"
        label-placement="floating"
        [(ngModel)]="datacliente.fecha_expedicion"
      ></ion-input>
    </ion-item>

    <!-- Contacto y dirección -->
    <ion-item>
      <ion-input
        type="tel"
        label="Teléfono"
        label-placement="floating"
        name="telefono"
        [(ngModel)]="datacliente.telefono"
        [max]="20"
        maxlength="20"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-input
        type="email"
        name="correo"
        label="Correo"
        label-placement="floating"
        [(ngModel)]="datacliente.correo"
        maxlength="50"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-input
        type="text"
        name="direccion"
        label="Dirección"
        label-placement="floating"
        [(ngModel)]="datacliente.direccion"
        maxlength="50"
      ></ion-input>
    </ion-item>

    <!-- País -->
    <ion-item>
      <ion-select
        (click)="listarPaises()"
        interface="popover"
        name="id_pais"
        label="País"
        [(ngModel)]="datacliente.id_pais"
        label-placement="floating"
        required
        placeholder="Seleccione"
      >
        @for(pais of paises(); track pais.id; let i = $index){
        <ion-select-option [value]="pais.id">
          {{ pais.nombre }}
        </ion-select-option>
        }
      </ion-select>
    </ion-item>

    <!-- Fechas -->
    <!-- <ion-item>
      <ion-label position="stacked">Fecha de creación</ion-label>
      <ion-input
        type="date"
        name="fecha_creacion"
      ></ion-input>
    </ion-item> -->

    <!-- Observaciones -->
    <ion-item>
      <ion-textarea
        auto-grow="true"
        [(ngModel)]="datacliente.observacion_cliente"
        label="Observación cliente (Opcional)"
        label-placement="floating"
        name="observacion_cliente"
        maxlength="255"
      ></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-textarea
        auto-grow="true"
        [(ngModel)]="datacliente.observacion_comercial"
        label="Observación comercial (Opcional)"
        label-placement="floating"
        name="observacion_comercial"
        maxlength="255"
      ></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-textarea
        auto-grow="true"
        [(ngModel)]="datacliente.observacion_soporte"
        label="Observación soporte (Opcional)"
        label-placement="floating"
        name="observacion_soporte"
        maxlength="255"
      ></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-textarea
        auto-grow="true"
        [(ngModel)]="datacliente.observacion_cuenta"
        label="Observación cuenta (Opcional)"
        label-placement="floating"
        name="observacion_cuenta"
        maxlength="255"
      ></ion-textarea>
    </ion-item>

    <!-- Acciones -->
    
  </ion-list>

    <ion-toolbar>
      <ion-buttons slot="end">
        <ion-button expand="block" color="medium" (click)="cancelar()">Cancelar</ion-button>
        <ion-button expand="block" color="primary" type="submit" [disabled]="form.invalid">Guardar</ion-button>
      </ion-buttons>
    </ion-toolbar>
</form>
</ion-content>